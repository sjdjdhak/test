var S=(x,r,a)=>new Promise((p,d)=>{var l=i=>{try{c(a.next(i))}catch(m){d(m)}},g=i=>{try{c(a.throw(i))}catch(m){d(m)}},c=i=>i.done?p(i.value):Promise.resolve(i.value).then(l,g);c((a=a.apply(x,r)).next())});import{f as F,E as H,r as P,t as j,v as G,e as M}from"./_plugin-vue_export-helper-DAE0c8RX.js";import{S as Q}from"./SearchBox-Co8R4YEd.js";import{N}from"./NavigationGrid-Bk7pSB37.js";import{a as U,u as z}from"./navigation-7vtA9nYp.js";import{d as J,f as k,c as u,x as K,a as b,g as s,b as V,h as e,y as L,u as o,i as _,w as v,t as f,o as w,j as O}from"./index-C8EcO_R4.js";import"./el-input-B5lZdLQh.js";import"./el-rate-CX40KGOT.js";import"./el-select-CaBiTLQY.js";import"./el-empty-Dk45v0Fv.js";import"./el-skeleton-item-CzrWbPsQ.js";import"./NavigationCard-QWVFCIg9.js";/* empty css                        */const W={class:"home-page"},X={class:"search-section"},Y={class:"search-container"},Z={key:0,class:"featured-section"},$={class:"section-header"},tt={class:"section-title"},st={key:1,class:"popular-section"},ot={class:"section-header"},et={class:"section-title"},at={class:"recent-section"},nt={class:"section-header"},it={class:"section-title"},lt={class:"stats-section"},rt={class:"stats-container"},dt={class:"stat-card"},ct={class:"stat-number"},ut={class:"stat-card"},_t={class:"stat-number"},vt={class:"stat-card"},mt={class:"stat-number"},pt={class:"stat-card"},gt={class:"stat-number"},ft=J({__name:"Home",setup(x){const r=O(),a=U(),p=z(),d=k(""),l=k(!1),g=u(()=>a.featuredNavigations),c=u(()=>a.popularNavigations),i=u(()=>[...a.navigations].sort((n,t)=>new Date(t.createTime).getTime()-new Date(n.createTime).getTime()).slice(0,8)),m=u(()=>a.totalCount),A=u(()=>p.totalCount),B=u(()=>a.navigations.reduce((n,t)=>n+t.visitCount,0)),I=k(0),T=n=>{n.trim()&&r.push({name:"Search",query:{q:n}})},h=n=>{a.incrementVisitCount(n.id),window.open(n.url,"_blank")},q=()=>{r.push({name:"Category",query:{featured:"true"}})},E=()=>{r.push({name:"Category",query:{sort:"popular"}})},D=()=>{r.push({name:"Category",query:{sort:"recent"}})};return K(()=>S(this,null,function*(){l.value=!0;try{yield Promise.all([a.fetchNavigations(),p.fetchCategories()])}catch(n){console.error("Failed to load data:",n)}finally{l.value=!1}})),(n,t)=>{const y=F,C=H;return w(),b("div",W,[s("div",X,[s("div",Y,[t[1]||(t[1]=s("h1",{class:"page-title"},"AI导航",-1)),t[2]||(t[2]=s("p",{class:"page-subtitle"},"发现最优质的AI工具和资源",-1)),e(Q,{modelValue:o(d),"onUpdate:modelValue":t[0]||(t[0]=R=>L(d)?d.value=R:null),onSearch:T,placeholder:"搜索AI工具、分类或标签...",class:"main-search"},null,8,["modelValue"])])]),o(g).length>0?(w(),b("div",Z,[s("div",$,[s("h2",tt,[e(y,null,{default:v(()=>[e(o(P))]),_:1}),t[3]||(t[3]=_(" 推荐导航 "))]),e(C,{type:"text",onClick:q},{default:v(()=>t[4]||(t[4]=[_("查看全部")])),_:1,__:[4]})]),e(N,{navigations:o(g),loading:o(l),onClick:h},null,8,["navigations","loading"])])):V("",!0),o(c).length>0?(w(),b("div",st,[s("div",ot,[s("h2",et,[e(y,null,{default:v(()=>[e(o(j))]),_:1}),t[5]||(t[5]=_(" 热门导航 "))]),e(C,{type:"text",onClick:E},{default:v(()=>t[6]||(t[6]=[_("查看全部")])),_:1,__:[6]})]),e(N,{navigations:o(c),loading:o(l),onClick:h},null,8,["navigations","loading"])])):V("",!0),s("div",at,[s("div",nt,[s("h2",it,[e(y,null,{default:v(()=>[e(o(G))]),_:1}),t[7]||(t[7]=_(" 最新导航 "))]),e(C,{type:"text",onClick:D},{default:v(()=>t[8]||(t[8]=[_("查看全部")])),_:1,__:[8]})]),e(N,{navigations:o(i),loading:o(l),onClick:h},null,8,["navigations","loading"])]),s("div",lt,[s("div",rt,[s("div",dt,[s("div",ct,f(o(m)),1),t[9]||(t[9]=s("div",{class:"stat-label"},"导航总数",-1))]),s("div",ut,[s("div",_t,f(o(A)),1),t[10]||(t[10]=s("div",{class:"stat-label"},"分类总数",-1))]),s("div",vt,[s("div",mt,f(o(B)),1),t[11]||(t[11]=s("div",{class:"stat-label"},"总访问量",-1))]),s("div",pt,[s("div",gt,f(o(I)),1),t[12]||(t[12]=s("div",{class:"stat-label"},"今日访问",-1))])])])])}}}),Tt=M(ft,[["__scopeId","data-v-27e2c762"]]);export{Tt as default};
