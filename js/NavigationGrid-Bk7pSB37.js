import{l as j,E as q,f as U,e as W}from"./_plugin-vue_export-helper-DAE0c8RX.js";import{E as $}from"./el-rate-CX40KGOT.js";import"./el-input-B5lZdLQh.js";import"./el-select-CaBiTLQY.js";import{E as H}from"./el-empty-Dk45v0Fv.js";import{d as J,c as K}from"./el-skeleton-item-CzrWbPsQ.js";import{d as O,f as Q,c as u,x as R,E as X,a as n,b as h,F as y,q as k,u as p,h as t,w as l,n as Y,o as a,g as m,l as f,i as _,p as Z,t as ee,G as te}from"./index-C8EcO_R4.js";import{N as ae}from"./NavigationCard-QWVFCIg9.js";const oe={class:"navigation-grid"},ne={key:0,class:"grid-loading"},se={class:"skeleton-header"},ie={class:"skeleton-info"},le={class:"skeleton-tags"},re={key:1,class:"grid-empty"},de={key:3,class:"grid-pagination"},ce={key:4,class:"grid-load-more"},pe=O({__name:"NavigationGrid",props:{navigations:{},loading:{type:Boolean,default:!1},showFavorite:{type:Boolean,default:!0},showEdit:{type:Boolean,default:!1},showPagination:{type:Boolean,default:!1},showLoadMore:{type:Boolean,default:!1},showAddButton:{type:Boolean,default:!1},maxTags:{default:3},columns:{default:"auto"},gap:{default:"24px"},total:{default:0},currentPage:{default:1},pageSize:{default:20},pageSizes:{default:()=>[10,20,50,100]},hasMore:{type:Boolean,default:!1},loadingMore:{type:Boolean,default:!1},emptyDescription:{default:"暂无导航数据"},emptyIcon:{default:j}},emits:["navigation-click","favorite","tag-click","category-click","edit","delete","add","page-change","size-change","load-more"],setup(w,{emit:C}){te(e=>({35671984:e.gap}));const i=w,o=C,r=Q(!1),z=u(()=>typeof i.columns=="number"?i.columns*3:r.value?2:8),E=u(()=>{const e=[];return typeof i.columns=="number"?e.push(`grid-cols-${i.columns}`):e.push("grid-auto"),r.value&&e.push("grid-mobile"),e}),B=u(()=>Math.ceil(i.total/i.pageSize)),b=e=>{o("navigation-click",e)},x=(e,d)=>{o("favorite",e,d)},M=e=>{o("tag-click",e)},N=e=>{o("category-click",e)},S=e=>{o("edit",e)},D=e=>{o("delete",e)},F=()=>{o("add")},L=e=>{o("page-change",e)},P=e=>{o("size-change",e)},I=()=>{o("load-more")},g=()=>{r.value=window.innerWidth<768};return R(()=>{g(),window.addEventListener("resize",g)}),X(()=>{window.removeEventListener("resize",g)}),(e,d)=>{const s=J,T=K,V=U,v=q,A=H,G=$;return a(),n("div",oe,[e.loading?(a(),n("div",ne,[(a(!0),n(y,null,k(p(z),c=>(a(),n("div",{key:c,class:"skeleton-card"},[t(T,{animated:""},{template:l(()=>[m("div",se,[t(s,{variant:"circle",style:{width:"48px",height:"48px"}}),m("div",ie,[t(s,{variant:"text",style:{width:"60%",height:"20px"}}),t(s,{variant:"text",style:{width:"40%",height:"16px"}})])]),t(s,{variant:"text",style:{width:"100%",height:"16px",margin:"12px 0"}}),t(s,{variant:"text",style:{width:"80%",height:"16px","margin-bottom":"12px"}}),m("div",le,[t(s,{variant:"button",style:{width:"60px",height:"24px"}}),t(s,{variant:"button",style:{width:"80px",height:"24px"}}),t(s,{variant:"button",style:{width:"50px",height:"24px"}})])]),_:1})]))),128))])):e.navigations.length===0?(a(),n("div",re,[t(A,{"image-size":120,description:e.emptyDescription},{image:l(()=>[t(V,{class:"empty-icon"},{default:l(()=>[(a(),f(Z(e.emptyIcon)))]),_:1})]),default:l(()=>[e.showAddButton?(a(),f(v,{key:0,type:"primary",onClick:F},{default:l(()=>d[0]||(d[0]=[_(" 添加导航 ")])),_:1,__:[0]})):h("",!0)]),_:1},8,["description"])])):(a(),n("div",{key:2,class:Y(["grid-container",p(E)])},[(a(!0),n(y,null,k(e.navigations,c=>(a(),f(ae,{key:c.id,navigation:c,"show-favorite":e.showFavorite,"show-edit":e.showEdit,"max-tags":e.maxTags,onClick:b,onFavorite:x,onTagClick:M,onCategoryClick:N,onEdit:S,onDelete:D,class:"grid-item"},null,8,["navigation","show-favorite","show-edit","max-tags"]))),128))],2)),e.showPagination&&p(B)>1?(a(),n("div",de,[t(G,{"current-page":e.currentPage,"page-size":e.pageSize,total:e.total,"page-sizes":e.pageSizes,small:p(r),layout:"total, sizes, prev, pager, next, jumper",onSizeChange:P,onCurrentChange:L},null,8,["current-page","page-size","total","page-sizes","small"])])):h("",!0),e.showLoadMore&&e.hasMore?(a(),n("div",ce,[t(v,{loading:e.loadingMore,onClick:I,class:"load-more-btn"},{default:l(()=>[_(ee(e.loadingMore?"加载中...":"加载更多"),1)]),_:1},8,["loading"])])):h("",!0)])}}}),_e=W(pe,[["__scopeId","data-v-5cba552a"]]);export{_e as N};
