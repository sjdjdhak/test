var ne=Object.defineProperty,re=Object.defineProperties;var ie=Object.getOwnPropertyDescriptors;var J=Object.getOwnPropertySymbols;var de=Object.prototype.hasOwnProperty,ue=Object.prototype.propertyIsEnumerable;var Q=(e,a,s)=>a in e?ne(e,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[a]=s,O=(e,a)=>{for(var s in a||(a={}))de.call(a,s)&&Q(e,s,a[s]);if(J)for(var s of J(a))ue.call(a,s)&&Q(e,s,a[s]);return e},z=(e,a)=>re(e,ie(a));import{d as U,A as Y,c as E,a as K,o as D,g as M,b as _,r as k,n as m,u as o,t as ce,h as V,w as g,l as Z,p as fe,e as X,B as ve,f as w,D as j,x as ye,S as pe,bB as me,a6 as ge,k as Ce,R as be,Q as he,v as ke,z as we}from"./index-C8EcO_R4.js";import{u as Ee,c as Se,d as De,e as Ie}from"./el-form-item-C3AQGlqp.js";import{F as Be,U as x,s as Te,v as Pe,x as Ae}from"./el-input-B5lZdLQh.js";import{b as ee,x as Fe,_ as oe,y as $e,ar as Le,f as Re,V as Ne,d as Oe,as as ze,P as H,T as Me,at as Ve,N as Ue,au as W,a3 as qe,U as Ke,u as je,w as _e}from"./_plugin-vue_export-helper-DAE0c8RX.js";import{c as Ze}from"./navigation-7vtA9nYp.js";const le=Symbol("dialogInjectionKey"),ae=ee({center:Boolean,alignCenter:Boolean,closeIcon:{type:Fe},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,headerClass:String,bodyClass:String,footerClass:String,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),Ge={close:()=>!0},Je=U({name:"ElDialogContent"}),Qe=U(z(O({},Je),{props:ae,emits:Ge,setup(e,{expose:a}){const s=e,{t:F}=$e(),{Close:i}=Le,{dialogRef:f,headerRef:C,bodyId:b,ns:t,style:d}=Y(le),{focusTrapRef:y}=Y(Be),p=E(()=>[t.b(),t.is("fullscreen",s.fullscreen),t.is("draggable",s.draggable),t.is("align-center",s.alignCenter),{[t.m("center")]:s.center}]),h=Ze(y,f),u=E(()=>s.draggable),v=E(()=>s.overflow),{resetPosition:I,updatePosition:B}=Ee(f,C,u,v);return a({resetPosition:I,updatePosition:B}),(n,S)=>(D(),K("div",{ref:o(h),class:m(o(p)),style:X(o(d)),tabindex:"-1"},[M("header",{ref_key:"headerRef",ref:C,class:m([o(t).e("header"),n.headerClass,{"show-close":n.showClose}])},[k(n.$slots,"header",{},()=>[M("span",{role:"heading","aria-level":n.ariaLevel,class:m(o(t).e("title"))},ce(n.title),11,["aria-level"])]),n.showClose?(D(),K("button",{key:0,"aria-label":o(F)("el.dialog.close"),class:m(o(t).e("headerbtn")),type:"button",onClick:$=>n.$emit("close")},[V(o(Re),{class:m(o(t).e("close"))},{default:g(()=>[(D(),Z(fe(n.closeIcon||o(i))))]),_:1},8,["class"])],10,["aria-label","onClick"])):_("v-if",!0)],2),M("div",{id:o(b),class:m([o(t).e("body"),n.bodyClass])},[k(n.$slots,"default")],10,["id"]),n.$slots.footer?(D(),K("footer",{key:0,class:m([o(t).e("footer"),n.footerClass])},[k(n.$slots,"footer")],2)):_("v-if",!0)],6))}}));var Ye=oe(Qe,[["__file","dialog-content.vue"]]);const He=ee(z(O({},ae),{appendToBody:Boolean,appendTo:{type:Te.to.type,default:"body"},beforeClose:{type:Oe(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,headerClass:String,bodyClass:String,footerClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"}})),We={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[x]:e=>Ne(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},Xe=(e,a)=>{var s;const i=ve().emit,{nextZIndex:f}=ze();let C="";const b=H(),t=H(),d=w(!1),y=w(!1),p=w(!1),h=w((s=e.zIndex)!=null?s:f());let u,v;const I=Me("namespace",Ve),B=E(()=>{const r={},c=`--${I.value}-dialog`;return e.fullscreen||(e.top&&(r[`${c}-margin-top`]=e.top),e.width&&(r[`${c}-width`]=Ue(e.width))),r}),n=E(()=>e.alignCenter?{display:"flex"}:{});function S(){i("opened")}function $(){i("closed"),i(x,!1),e.destroyOnClose&&(p.value=!1)}function q(){i("close")}function L(){v==null||v(),u==null||u(),e.openDelay&&e.openDelay>0?{stop:u}=W(()=>R(),e.openDelay):R()}function T(){u==null||u(),v==null||v(),e.closeDelay&&e.closeDelay>0?{stop:v}=W(()=>N(),e.closeDelay):N()}function P(){function r(c){c||(y.value=!0,d.value=!1)}e.beforeClose?e.beforeClose(r):T()}function A(){e.closeOnClickModal&&P()}function R(){qe&&(d.value=!0)}function N(){d.value=!1}function l(){i("openAutoFocus")}function G(){i("closeAutoFocus")}function se(r){var c;((c=r.detail)==null?void 0:c.focusReason)==="pointer"&&r.preventDefault()}e.lockScroll&&Se(d);function te(){e.closeOnPressEscape&&P()}return j(()=>e.zIndex,()=>{var r;h.value=(r=e.zIndex)!=null?r:f()}),j(()=>e.modelValue,r=>{var c;r?(y.value=!1,L(),p.value=!0,h.value=(c=e.zIndex)!=null?c:f(),pe(()=>{i("open"),a.value&&(a.value.parentElement.scrollTop=0,a.value.parentElement.scrollLeft=0,a.value.scrollTop=0)})):d.value&&T()}),j(()=>e.fullscreen,r=>{a.value&&(r?(C=a.value.style.transform,a.value.style.transform=""):a.value.style.transform=C)}),ye(()=>{e.modelValue&&(d.value=!0,p.value=!0,L())}),{afterEnter:S,afterLeave:$,beforeLeave:q,handleClose:P,onModalClick:A,close:T,doClose:N,onOpenAutoFocus:l,onCloseAutoFocus:G,onCloseRequested:te,onFocusoutPrevented:se,titleId:b,bodyId:t,closed:y,style:B,overlayDialogStyle:n,rendered:p,visible:d,zIndex:h}},xe=U({name:"ElDialog",inheritAttrs:!1}),eo=U(z(O({},xe),{props:He,emits:We,setup(e,{expose:a}){const s=e,F=me();Ke({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},E(()=>!!F.title));const i=je("dialog"),f=w(),C=w(),b=w(),{visible:t,titleId:d,bodyId:y,style:p,overlayDialogStyle:h,rendered:u,zIndex:v,afterEnter:I,afterLeave:B,beforeLeave:n,handleClose:S,onModalClick:$,onOpenAutoFocus:q,onCloseAutoFocus:L,onCloseRequested:T,onFocusoutPrevented:P}=Xe(s,f);we(le,{dialogRef:f,headerRef:C,bodyId:y,ns:i,rendered:u,style:p});const A=Ie($),R=E(()=>s.draggable&&!s.fullscreen);return a({visible:t,dialogContentRef:b,resetPosition:()=>{var l;(l=b.value)==null||l.resetPosition()},handleClose:S}),(l,G)=>(D(),Z(o(Ae),{to:l.appendTo,disabled:l.appendTo!=="body"?!1:!l.appendToBody},{default:g(()=>[V(ge,{name:"dialog-fade",onAfterEnter:o(I),onAfterLeave:o(B),onBeforeLeave:o(n),persisted:""},{default:g(()=>[Ce(V(o(De),{"custom-mask-event":"",mask:l.modal,"overlay-class":l.modalClass,"z-index":o(v)},{default:g(()=>[M("div",{role:"dialog","aria-modal":"true","aria-label":l.title||void 0,"aria-labelledby":l.title?void 0:o(d),"aria-describedby":o(y),class:m(`${o(i).namespace.value}-overlay-dialog`),style:X(o(h)),onClick:o(A).onClick,onMousedown:o(A).onMousedown,onMouseup:o(A).onMouseup},[V(o(Pe),{loop:"",trapped:o(t),"focus-start-el":"container",onFocusAfterTrapped:o(q),onFocusAfterReleased:o(L),onFocusoutPrevented:o(P),onReleaseRequested:o(T)},{default:g(()=>[o(u)?(D(),Z(Ye,be({key:0,ref_key:"dialogContentRef",ref:b},l.$attrs,{center:l.center,"align-center":l.alignCenter,"close-icon":l.closeIcon,draggable:o(R),overflow:l.overflow,fullscreen:l.fullscreen,"header-class":l.headerClass,"body-class":l.bodyClass,"footer-class":l.footerClass,"show-close":l.showClose,title:l.title,"aria-level":l.headerAriaLevel,onClose:o(S)}),he({header:g(()=>[l.$slots.title?k(l.$slots,"title",{key:1}):k(l.$slots,"header",{key:0,close:o(S),titleId:o(d),titleClass:o(i).e("title")})]),default:g(()=>[k(l.$slots,"default")]),_:2},[l.$slots.footer?{name:"footer",fn:g(()=>[k(l.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","header-class","body-class","footer-class","show-close","title","aria-level","onClose"])):_("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,["aria-label","aria-labelledby","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["mask","overlay-class","z-index"]),[[ke,o(t)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}}));var oo=oe(eo,[["__file","dialog.vue"]]);const io=_e(oo);export{io as E};
